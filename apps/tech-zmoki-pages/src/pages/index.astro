---
// Tech blog homepage
import BaseLayout from "../layouts/BaseLayout.astro";
import { getCollection } from "astro:content";
import { PostCard, type PostCardProps } from "@zmoki/shared-components";

const posts = await getCollection("feed");
const sortedPosts = posts.sort(
  (a: PostCardProps, b: PostCardProps) =>
    b.data.publishDate.getTime() - a.data.publishDate.getTime(),
);
---

<BaseLayout title="Tech Blog - Zmoki" description="Technical insights and development thoughts">
  <div class="mx-auto max-w-4xl p-8">
    <h1 class="mb-8 text-4xl font-bold">Tech Blog</h1>
    <p class="mb-8 text-lg text-gray-600">
      Welcome to my technical blog where I share insights about development, technology, and more.
    </p>

    <div class="grid gap-6">
      {sortedPosts.map((post: PostCardProps) => <PostCard slug={post.slug} data={post.data} />)}
    </div>
  </div>
</BaseLayout>
